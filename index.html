<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>IskLo</title>
  <script type="text/javascript" src="www/elm.js"></script>
</head>

<body>
  <div id="isklo"></div>
</body>
<script type="module">
  import init, { simplify, explain } from './www/wasm.js';
  (async () => {
    await init({});
    var app = Elm.Main.init({
        node: document.getElementById('isklo')
    });
    app.ports.sendMessage.subscribe(function(input) {
      try {
        app.ports.messageReceiver.send(explain(input[0], input[1]));
      } catch (e) {
        app.ports.messageReceiver.send(e.toString());
      }
    });
  })();
</script>

</html>
